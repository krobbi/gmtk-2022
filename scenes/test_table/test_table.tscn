[gd_scene load_steps=9 format=2]

[ext_resource path="res://entities/die_spawner/die_spawner.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/test_table/test_table.gd" type="Script" id=2]
[ext_resource path="res://resources/textures/test_table.png" type="Texture" id=3]
[ext_resource path="res://entities/game_camera/game_camera.tscn" type="PackedScene" id=4]
[ext_resource path="res://entities/floating_number_spawner/floating_number_spawner.tscn" type="PackedScene" id=5]
[ext_resource path="res://entities/game_manager/game_manager.tscn" type="PackedScene" id=6]
[ext_resource path="res://entities/floating_number/floating_number.tscn" type="PackedScene" id=7]
[ext_resource path="res://gui/manabar.tscn" type="PackedScene" id=8]

[node name="TestTable" type="Node2D"]
script = ExtResource( 2 )
__meta__ = {
"_edit_lock_": true
}

[node name="GameManager" parent="." instance=ExtResource( 6 )]
die_spawner_path = NodePath("../DieSpawner")
floating_number_spawner_path = NodePath("../FloatingNumberSpawner")

[node name="Sprite" type="Sprite" parent="."]
texture = ExtResource( 3 )
centered = false
__meta__ = {
"_edit_lock_": true
}

[node name="DieSpawner" parent="." instance=ExtResource( 1 )]

[node name="FloatingNumberSpawner" parent="." instance=ExtResource( 5 )]

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PoolVector2Array( 1920, 0, 1920, 296, 1856, 264, 1792, 240, 1728, 216, 1664, 200, 1600, 184, 1536, 168, 1472, 152, 1408, 144, 1344, 136, 1280, 128, 1216, 120, 1152, 112, 1088, 112, 1024, 112, 960, 112, 896, 112, 832, 112, 768, 120, 704, 128, 640, 136, 576, 144, 512, 160, 448, 168, 384, 184, 320, 208, 256, 232, 192, 248, 128, 280, 64, 312, 0, 344, 0, 1080, 1920, 1080, 1920, 296, 1976, 272, 2120, 1240, -136, 1672, -720, -552, -248, -264, 0, 0 )

[node name="GameCamera" parent="." instance=ExtResource( 4 )]

[node name="FloatingNumber" parent="." instance=ExtResource( 7 )]
position = Vector2( 1688, 200 )

[node name="Control" parent="." instance=ExtResource( 8 )]
margin_left = 4.0
margin_top = 996.0
margin_right = 4.0
margin_bottom = 996.0
mana = 10

[connection signal="number_changed" from="GameManager" to="FloatingNumber" method="set_number"]
[connection signal="round_finished" from="GameManager" to="." method="_on_game_manager_round_finished"]
[connection signal="roll_finished" from="DieSpawner" to="FloatingNumberSpawner" method="spawn_numbers"]
